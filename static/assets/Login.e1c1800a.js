import{u as w}from"./user.3dcdea04.js";import{_ as k}from"./bg.79b7f3df.js";import{_ as F}from"./logo.0d68fd68.js";import{_ as V,c as u,w as L,d as t,e as l,m as x,z as N,F as S,f as n,g as I,o as r,b as o,j as p,p as U,k as B}from"./index.1a21de82.js";import{s as c}from"./function-call.e575ea11.js";import"./request.58213615.js";const E={name:"Login",data(){return{loading:!1,loginForm:{username:"",password:""}}},setup(){},methods:{handleLogin(){this.loading=!0,w(this.loginForm).then(e=>{if(console.log(e),this.loading=!1,e.code===200){if(e.data.role!==1){c({type:"danger",message:"Only users can log in to the mobile terminal!"});return}this.$store.commit("SET_USERINFO",e.data),c({type:"success",message:"Login successful!"}),setTimeout(()=>{this.$router.push({name:"Home"})},1500)}else c({type:"danger",message:e.msg})}).catch(e=>{console.log(e)})}}},m=e=>(U("data-v-06e3829c"),e=e(),B(),e),P=m(()=>o("video",{src:k,class:"bg-video",muted:"",loop:"",autoplay:""},null,-1)),z={"element-loading-text":"loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.6)",class:"login-container"},C=m(()=>o("div",{class:"title-container"},[o("img",{class:"logo-img",src:F}),o("h5",null,"Unlocking the Future of Digital Wealth")],-1)),D=m(()=>o("div",{class:"title-container"},[o("h3",{class:"title"},"Log in")],-1)),T={style:{margin:"16px"}},q={class:"register"};function O(e,a,j,A,s,_){const d=n("van-field"),g=n("van-cell-group"),f=n("van-button"),v=n("router-link"),h=n("van-form"),y=n("van-loading"),b=I("loading");return r(),u(S,null,[P,L((r(),u("div",z,[t(h,{onSubmit:_.handleLogin,class:"m-login-form"},{default:l(()=>[C,D,t(g,{inset:""},{default:l(()=>[t(d,{modelValue:s.loginForm.username,"onUpdate:modelValue":a[0]||(a[0]=i=>s.loginForm.username=i),label:"Account",size:"large",placeholder:"Email / Username",autocomplete:"false",rules:[{required:!0,message:"Please input email or username"}]},null,8,["modelValue"]),t(d,{modelValue:s.loginForm.password,"onUpdate:modelValue":a[1]||(a[1]=i=>s.loginForm.password=i),type:"password",label:"Password",size:"large",placeholder:"Password",autocomplete:"false",rules:[{required:!0,message:"Please input password"}]},null,8,["modelValue"])]),_:1}),o("div",T,[t(f,{round:"",block:"",type:"primary","native-type":"submit"},{default:l(()=>[p(" Login ")]),_:1})]),o("div",q,[t(v,{to:"/register"},{default:l(()=>[p("Not a user")]),_:1})])]),_:1},8,["onSubmit"])])),[[b,s.loading]]),s.loading?(r(),x(y,{key:0,type:"spinner"})):N("",!0)],64)}const M=V(E,[["render",O],["__scopeId","data-v-06e3829c"]]);export{M as default};
