import{_ as N,r as P,a as v,c as h,w as T,n as D,b as s,d as o,e as t,F as z,f as n,g as B,o as w,h as y,i as b,j as S,p as Y,k as q,u as A,l as M,E as k}from"./index.2f24064d.js";import{_ as j}from"./bg.1afa7b02.js";import{u as O}from"./user.d5a1490a.js";import{F as W}from"./Footer.002ecc06.js";import"./request.019d1f39.js";const i=c=>(Y("data-v-396ed17c"),c=c(),q(),c),G=i(()=>s("video",{src:j,class:"bg-video",muted:"",loop:"",autoplay:""},null,-1)),J=i(()=>s("div",{class:"left-title"},[s("h1",{class:"main-title"},"CYPHERSTASH"),s("h3",{class:"main-desc"},"CYPHERSTASH: Unlocking the Future of Digital Wealth")],-1)),Q={class:"left-right"},X=i(()=>s("div",{class:"title-container"},[s("h3",{class:"app-title"},"Login")],-1)),Z={class:"more-options"},$={class:"more-options-left"},ee=i(()=>s("div",{class:"no-account-tips"},"Not a user?",-1)),oe=i(()=>s("div",{class:"more-options-right"},null,-1)),se={__name:"Login",setup(c){const F=A(),x=M(),r=P({username:"",password:""}),E=(l,e,a)=>{e?a():a(new Error("Please enter your username"))},L=(l,e,a)=>{e.length<6?a(new Error("The password can not be less than 6 digits")):a()},m=v(null),V=l=>{m.value.validate(e=>{e?l():console.log("error submit!!")})},R={username:[{required:!0,trigger:"blur",validator:E}],password:[{required:!0,trigger:"blur",validator:L}]},d=v(!1);new Date().getFullYear();const u=()=>{V(()=>{d.value=!0;let l={...r};O(l).then(e=>{d.value=!1,e.code===200?(F.commit("SET_USERINFO",e.data),k.success("Login successful!"),x.push({name:"Home"})):k.error(e.msg)}).catch(e=>{console.error(e),d.value=!1})})};return(l,e)=>{const a=n("User"),g=n("el-icon"),f=n("el-input"),p=n("el-form-item"),U=n("Lock"),I=n("el-button"),C=n("el-link"),H=n("el-form"),K=B("loading");return w(),h(z,null,[T((w(),h("div",{"element-loading-text":"loading","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.6)",class:"login-container",style:D(l.bg)},[G,J,s("div",Q,[o(H,{ref_key:"loginFormRef",ref:m,model:r,rules:R,class:"login-form","auto-complete":"on","label-position":"left"},{default:t(()=>[X,o(p,{prop:"username"},{default:t(()=>[o(f,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=_=>r.username=_),placeholder:"Email / Username",size:"large",tabIndex:"-1"},{prefix:t(()=>[o(g,{class:"el-input__icon"},{default:t(()=>[o(a)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(p,{prop:"password"},{default:t(()=>[o(f,{ref:"password",modelValue:r.password,"onUpdate:modelValue":e[1]||(e[1]=_=>r.password=_),size:"large","show-password":"",placeholder:"Password",name:"password",tabIndex:"-1","auto-complete":"on",onKeyup:y(u,["enter"])},{prefix:t(()=>[o(g,{class:"el-input__icon"},{default:t(()=>[o(U)]),_:1})]),_:1},8,["modelValue","onKeyup"])]),_:1}),o(p,null,{default:t(()=>[o(I,{type:"primary",class:"login-btn",onClick:b(u,["prevent"]),onKeyup:y(b(u,["prevent"]),["enter"])},{default:t(()=>[S(" Sign in ")]),_:1},8,["onClick","onKeyup"])]),_:1}),s("div",Z,[s("div",$,[ee,s("div",null,[o(C,{underline:!1,type:"primary",href:"#/register"},{default:t(()=>[S("Register")]),_:1})])]),oe])]),_:1},8,["model"])])],4)),[[K,d.value,void 0,{fullscreen:!0,lock:!0}]]),o(W,{class:"footer"})],64)}}},ie=N(se,[["__scopeId","data-v-396ed17c"]]);export{ie as default};
