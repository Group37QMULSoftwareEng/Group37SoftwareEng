import{a as b,s as B,v as O,o,c as f,F as C,x as S,m as d,e,d as t,y as H,b as a,t as p,z as U,l as N,u as T,f as n,_ as M,A as w,j as $,p as z,k as A}from"./index.2f24064d.js";import{_ as P}from"./logo.3ba27bd6.js";import{l as j}from"./logs.9a78494a.js";import"./request.019d1f39.js";const Y={class:"navMenu"},q={slot:"title"},G={__name:"Menu",props:["navMenus"],setup(u){const m=u,l=N(),y=T(),_=b([]),k=(v,h)=>{l.push(v),y.state.tagName=h};return B(()=>{_.value=m.navMenus}),O(()=>m.navMenus,()=>{_.value=m.navMenus}),(v,h)=>{const c=n("el-icon"),r=n("el-menu-item"),g=n("el-sub-menu");return o(),f("div",Y,[(o(!0),f(C,null,S(_.value,s=>(o(),f(C,null,[s.children?U("",!0):(o(),d(r,{key:s.id,index:s.name,onClick:i=>k(s.name,s.alias)},{default:e(()=>[t(c,null,{default:e(()=>[(o(),d(H(s.icon)))]),_:2},1024),a("span",q,p(s.alias),1)]),_:2},1032,["index","onClick"])),s.children?(o(),d(g,{key:1,index:s.name},{title:e(()=>[t(c,null,{default:e(()=>[(o(),d(H(s.icon)))]),_:2},1024),a("span",null,p(s.alias),1)]),default:e(()=>[(o(!0),f(C,null,S(s.children,i=>(o(),d(r,{index:i.name,onClick:D=>k(i.name,i.alias)},{default:e(()=>[t(c,null,{default:e(()=>[(o(),d(H(i.icon)))]),_:2},1024),a("span",null,p(i.alias),1)]),_:2},1032,["index","onClick"]))),256))]),_:2},1032,["index"])):U("",!0)],64))),256))])}}},L={root:[{id:1,name:"/index",icon:"house",alias:"Home"},{id:2,name:"/userlist",icon:"User",alias:"User"},{id:3,name:"/orderlist",icon:"Document",alias:"Transaction"},{id:4,name:"/analy",icon:"DataLine",alias:"Analytics"}],user:[{id:1,name:"/index",icon:"house",alias:"Home"},{id:2,name:"/transaction",icon:"Money",alias:"Transaction",children:[{id:22,name:"/trade",icon:"Switch",alias:"Create Transaction"},{id:23,name:"/send",icon:"CircleCheck",alias:"Transaction Sent"},{id:24,name:"/receive",icon:"Position",alias:"Transactions Received"}]},{id:3,name:"/wallet",icon:"Wallet",alias:"Wallet",children:[{id:31,name:"/addwallet",icon:"WalletFilled",alias:"Create Wallet"},{id:32,name:"/listwallet",icon:"Files",alias:"Wallet List"},{id:33,name:"/postrader",icon:"Postcard",alias:"Wallet Transfer"}]},{id:4,name:"/user",icon:"User",alias:"User"}]};const J=u=>(z("data-v-5c997110"),u=u(),A(),u),K={class:"header-container"},Q=J(()=>a("div",{class:"logo-img"},[a("img",{src:P})],-1)),X=[Q],Z={key:0,class:"btn-group"},ee={class:"login"},te={class:"register"},ne={key:1,class:"btn-group"},oe={class:"notice"},se={class:"notice-item"},ae={class:"notice-title-date"},le={class:"notice-title"},ie={class:"notice-date"},ce=["innerHTML"],re={__name:"Header",setup(u){const m=N(),l=T(),y=b([]),_=c=>{m.push({name:c})},k=()=>{l.state.user||m.push({name:"Login"})},v=()=>{l.commit("REMOVE_INFO"),m.push("/")},h=()=>{j({user_id:l.state.user.id}).then(c=>{console.log(c),y.value=c.data.list})};return B(()=>{k(),h()}),(c,r)=>{const g=n("el-button"),s=n("Bell"),i=n("el-icon"),D=n("el-text"),F=n("el-popover"),I=n("el-avatar"),W=n("el-dropdown-item"),V=n("el-dropdown-menu"),E=n("el-dropdown"),R=n("el-header");return o(),d(R,{class:"header"},{default:e(()=>[a("div",K,[a("div",{class:"logo",onClick:r[0]||(r[0]=x=>_("Home"))},X),w(l).state.user?(o(),f("div",ne,[w(l).state.user.role===1?(o(),d(F,{key:0,placement:"bottom",width:300,trigger:"click"},{reference:e(()=>[t(D,{class:"welcome"},{default:e(()=>[t(i,{size:"22"},{default:e(()=>[t(s)]),_:1})]),_:1})]),default:e(()=>[a("div",oe,[(o(!0),f(C,null,S(y.value,x=>(o(),f("div",se,[a("div",ae,[a("div",le,p(x.type),1),a("div",ie,p(x.create_at),1)]),a("div",{class:"notice-content",innerHTML:x.content},null,8,ce)]))),256))])]),_:1})):U("",!0),t(D,{class:"welcome"},{default:e(()=>[$(" Welcome,"+p(w(l).getters.getUserName)+" ("+p(["Admin","User","Service"][w(l).getters.getUser.role])+") ",1)]),_:1}),t(E,null,{dropdown:e(()=>[t(V,null,{default:e(()=>[t(W,{onClick:v},{default:e(()=>[$("Sign out")]),_:1})]),_:1})]),default:e(()=>[t(I,{size:50,src:w(l).getters.getUser.avatar},{default:e(()=>[$(p(w(l).getters.getUserName),1)]),_:1},8,["src"])]),_:1})])):(o(),f("div",Z,[a("div",ee,[t(g,{type:"primary",onClick:r[1]||(r[1]=x=>_("Login"))},{default:e(()=>[$("Log in")]),_:1})]),a("div",te,[t(g,{onClick:r[2]||(r[2]=x=>_("Register"))},{default:e(()=>[$("Sign up")]),_:1})])]))])]),_:1})}}},_e=M(re,[["__scopeId","data-v-5c997110"]]);const de={name:"DashBoard",components:{Header:_e,Menu:G},data(){return{menuData:[],year:new Date().getFullYear()}},mounted(){this.$store.state.user.role===0?this.menuData=L.root:this.$store.state.user.role===1?this.menuData=L.user:this.$store.state.user.role===2&&(this.menuData=L.service)},methods:{logout(){this.$store.commit("REMOVE_INFO"),this.$router.push("/login")}}};function ue(u,m,l,y,_,k){const v=n("Header"),h=n("Menu"),c=n("el-menu"),r=n("el-aside"),g=n("router-view"),s=n("el-main"),i=n("el-container");return o(),d(i,{class:"el-container-fix"},{default:e(()=>[t(v),t(i,null,{default:e(()=>[t(r,{width:"250px",class:"el-aside"},{default:e(()=>[t(c,{"default-active":u.$route.path,"background-color":"#fff","text-color":"#312f2fd4","text-align":"left","active-text-color":"#fff"},{default:e(()=>[t(h,{navMenus:_.menuData},null,8,["navMenus"])]),_:1},8,["default-active"])]),_:1}),t(i,null,{default:e(()=>[t(s,null,{default:e(()=>[t(g)]),_:1})]),_:1})]),_:1})]),_:1})}const he=M(de,[["render",ue],["__scopeId","data-v-778d1c70"]]);export{he as default};
